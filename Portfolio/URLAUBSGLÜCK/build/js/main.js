!function(t){"use strict";var i=t.jCarousel={};i.version="0.3.4";var e=/^([+\-]=)?(.+)$/;i.parseTarget=function(t){var i=!1,s="object"!=typeof t?e.exec(t):null;return s?(t=parseInt(s[2],10)||0,s[1]&&(i=!0,"-="===s[1]&&(t*=-1))):"object"!=typeof t&&(t=parseInt(t,10)||0),{target:t,relative:i}},i.detectCarousel=function(t){for(var i;t.length>0;){if(i=t.filter("[data-jcarousel]"),i.length>0)return i;if(i=t.find("[data-jcarousel]"),i.length>0)return i;t=t.parent()}return null},i.base=function(e){return{version:i.version,_options:{},_element:null,_carousel:null,_init:t.noop,_create:t.noop,_destroy:t.noop,_reload:t.noop,create:function(){return this._element.attr("data-"+e.toLowerCase(),!0).data(e,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(e).removeAttr("data-"+e.toLowerCase()),this)},reload:function(t){return!1===this._trigger("reload")?this:(t&&this.options(t),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(i,e){if(0===arguments.length)return t.extend({},this._options);if("string"==typeof i){if("undefined"==typeof e)return"undefined"==typeof this._options[i]?null:this._options[i];this._options[i]=e}else this._options=t.extend({},this._options,i);return this},carousel:function(){return this._carousel||(this._carousel=i.detectCarousel(this.options("carousel")||this._element),this._carousel||t.error('Could not detect carousel for plugin "'+e+'"')),this._carousel},_trigger:function(i,s,r){var n,o=!1;return r=[this].concat(r||[]),(s||this._element).each(function(){n=t.Event((e+":"+i).toLowerCase()),t(this).trigger(n,r),n.isDefaultPrevented()&&(o=!0)}),!o}}},i.plugin=function(e,s){var r=t[e]=function(i,e){this._element=t(i),this.options(e),this._init(),this.create()};return r.fn=r.prototype=t.extend({},i.base(e),s),t.fn[e]=function(i){var s=Array.prototype.slice.call(arguments,1),n=this;return"string"==typeof i?this.each(function(){var r=t(this).data(e);if(!r)return t.error("Cannot call methods on "+e+' prior to initialization; attempted to call method "'+i+'"');if(!t.isFunction(r[i])||"_"===i.charAt(0))return t.error('No such method "'+i+'" for '+e+" instance");var o=r[i].apply(r,s);return o!==r&&"undefined"!=typeof o?(n=o,!1):void 0}):this.each(function(){var s=t(this).data(e);s instanceof r?s.reload(i):new r(this,i)}),n},r}}(jQuery),function(t,i){"use strict";var e=function(t){return parseFloat(t)||0};t.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:t(),_first:t(),_last:t(),_visible:t(),_fullyvisible:t(),_init:function(){var t=this;return this.onWindowResize=function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.reload()},100)},this},_create:function(){this._reload(),t(i).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){t(i).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(i){if("rtl"===(""+i.attr("dir")).toLowerCase())return!0;var e=!1;return i.parents("[dir]").each(function(){return/rtl/i.test(t(this).attr("dir"))?(e=!0,!1):void 0}),e}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var i=this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var e={left:0,top:0};return i.length>0&&(this._prepare(i),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,e[this.lt]=this._position(i)+"px"),this.move(e),this},list:function(){if(null===this._list){var i=this.options("list");this._list=t.isFunction(i)?i.call(this):this._element.find(i)}return this._list},items:function(){if(null===this._items){var i=this.options("items");this._items=(t.isFunction(i)?i.call(this):this.list().find(i)).not("[data-jcarousel-clone]")}return this._items},index:function(t){return this.items().index(t)},closest:function(){var i,s=this,r=this.list().position()[this.lt],n=t(),o=!1,a=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(r+=this.list().width()-this.clipping()),this.items().each(function(){if(n=t(this),o)return!1;var l=s.dimension(n);if(r+=l,r>=0){if(i=l-e(n.css("margin-"+a)),!(Math.abs(r)-l+i/2<=0))return!1;o=!0}}),n},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var t=this.options("wrap"),i=this.items().length-1,e=this.options("center")?this._target:this._last;return!!(i>=0&&!this.underflow&&(t&&"first"!==t||this.index(e)<i||this.tail&&!this.inTail))},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var t=this.options("wrap");return!!(this.items().length>0&&!this.underflow&&(t&&"last"!==t||this.index(this._first)>0||this.tail&&this.inTail))},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(t){return t["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(i,e,s){if(this.animating)return this;if(!1===this._trigger("scroll",null,[i,e]))return this;t.isFunction(e)&&(s=e,e=!0);var r=t.jCarousel.parseTarget(i);if(r.relative){var n,o,a,l,h,u,c,f,d=this.items().length-1,p=Math.abs(r.target),_=this.options("wrap");if(r.target>0){var g=this.index(this._last);if(g>=d&&this.tail)this.inTail?"both"===_||"last"===_?this._scroll(0,e,s):t.isFunction(s)&&s.call(this,!1):this._scrollTail(e,s);else if(n=this.index(this._target),this.underflow&&n===d&&("circular"===_||"both"===_||"last"===_)||!this.underflow&&g===d&&("both"===_||"last"===_))this._scroll(0,e,s);else if(a=n+p,this.circular&&a>d){for(f=d,h=this.items().get(-1);f++<a;)h=this.items().eq(0),u=this._visible.index(h)>=0,u&&h.after(h.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(h),u||(c={},c[this.lt]=this.dimension(h),this.moveBy(c)),this._items=null;this._scroll(h,e,s)}else this._scroll(Math.min(a,d),e,s)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-p+1,0),e,s);else if(o=this.index(this._first),n=this.index(this._target),l=this.underflow?n:o,a=l-p,0>=l&&(this.underflow&&"circular"===_||"both"===_||"first"===_))this._scroll(d,e,s);else if(this.circular&&0>a){for(f=a,h=this.items().get(0);f++<0;){h=this.items().eq(-1),u=this._visible.index(h)>=0,u&&h.after(h.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(h),this._items=null;var m=this.dimension(h);c={},c[this.lt]=-m,this.moveBy(c)}this._scroll(h,e,s)}else this._scroll(Math.max(a,0),e,s)}else this._scroll(r.target,e,s);return this._trigger("scrollend"),this},moveBy:function(t,i){var s=this.list().position(),r=1,n=0;return this.rtl&&!this.vertical&&(r=-1,this.relative&&(n=this.list().width()-this.clipping())),t.left&&(t.left=s.left+n+e(t.left)*r+"px"),t.top&&(t.top=s.top+n+e(t.top)*r+"px"),this.move(t,i)},move:function(i,e){e=e||{};var s=this.options("transitions"),r=!!s,n=!!s.transforms,o=!!s.transforms3d,a=e.duration||0,l=this.list();if(!r&&a>0)return void l.animate(i,e);var h=e.complete||t.noop,u={};if(r){var c={transitionDuration:l.css("transitionDuration"),transitionTimingFunction:l.css("transitionTimingFunction"),transitionProperty:l.css("transitionProperty")},f=h;h=function(){t(this).css(c),f.call(this)},u={transitionDuration:(a>0?a/1e3:0)+"s",transitionTimingFunction:s.easing||e.easing,transitionProperty:a>0?function(){return n||o?"all":i.left?"left":"top"}():"none",transform:"none"}}o?u.transform="translate3d("+(i.left||0)+","+(i.top||0)+",0)":n?u.transform="translate("+(i.left||0)+","+(i.top||0)+")":t.extend(u,i),r&&a>0&&l.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",h),l.css(u),0>=a&&l.each(function(){h.call(this)})},_scroll:function(i,e,s){if(this.animating)return t.isFunction(s)&&s.call(this,!1),this;if("object"!=typeof i?i=this.items().eq(i):"undefined"==typeof i.jquery&&(i=t(i)),0===i.length)return t.isFunction(s)&&s.call(this,!1),this;this.inTail=!1,this._prepare(i);var r=this._position(i),n=this.list().position()[this.lt];if(r===n)return t.isFunction(s)&&s.call(this,!1),this;var o={};return o[this.lt]=r+"px",this._animate(o,e,s),this},_scrollTail:function(i,e){if(this.animating||!this.tail)return t.isFunction(e)&&e.call(this,!1),this;var s=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(s+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?s+=this.tail:s-=this.tail,this.inTail=!0;var r={};return r[this.lt]=s+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(r,i,e),this},_animate:function(i,e,s){if(s=s||t.noop,!1===this._trigger("animate"))return s.call(this,!1),this;this.animating=!0;var r=this.options("animation"),n=t.proxy(function(){this.animating=!1;var t=this.list().find("[data-jcarousel-clone]");t.length>0&&(t.remove(),this._reload()),this._trigger("animateend"),s.call(this,!0)},this),o="object"==typeof r?t.extend({},r):{duration:r},a=o.complete||t.noop;return e===!1?o.duration=0:"undefined"!=typeof t.fx.speeds[o.duration]&&(o.duration=t.fx.speeds[o.duration]),o.complete=function(){n(),a.call(this)},this.move(i,o),this},_prepare:function(i){var s,r,n,o,a=this.index(i),l=a,h=this.dimension(i),u=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",f=this.options("center"),d={target:i,first:i,last:i,visible:i,fullyvisible:u>=h?i:t()};if(f&&(h/=2,u/=2),u>h)for(;;){if(s=this.items().eq(++l),0===s.length){if(!this.circular)break;if(s=this.items().eq(0),i.get(0)===s.get(0))break;if(r=this._visible.index(s)>=0,r&&s.after(s.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(s),!r){var p={};p[this.lt]=this.dimension(s),this.moveBy(p)}this._items=null}if(o=this.dimension(s),0===o)break;if(h+=o,d.last=s,d.visible=d.visible.add(s),n=e(s.css("margin-"+c)),u>=h-n&&(d.fullyvisible=d.fullyvisible.add(s)),h>=u)break}if(!this.circular&&!f&&u>h)for(l=a;;){if(--l<0)break;if(s=this.items().eq(l),0===s.length)break;if(o=this.dimension(s),0===o)break;if(h+=o,d.first=s,d.visible=d.visible.add(s),n=e(s.css("margin-"+c)),u>=h-n&&(d.fullyvisible=d.fullyvisible.add(s)),h>=u)break}return this._update(d),this.tail=0,f||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(d.last)!==this.items().length-1||(h-=e(d.last.css("margin-"+c)),h>u&&(this.tail=h-u)),this},_position:function(t){var i=this._first,e=i.position()[this.lt],s=this.options("center"),r=s?this.clipping()/2-this.dimension(i)/2:0;return this.rtl&&!this.vertical?(e-=this.relative?this.list().width()-this.dimension(i):this.clipping()-this.dimension(i),e+=r):e-=r,!s&&(this.index(t)>this.index(i)||this.inTail)&&this.tail?(e=this.rtl&&!this.vertical?e-this.tail:e+this.tail,this.inTail=!0):this.inTail=!1,-e},_update:function(i){var e,s=this,r={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},n=this.index(i.first||r.first)<this.index(r.first),o=function(e){var o=[],a=[];i[e].each(function(){r[e].index(this)<0&&o.push(this)}),r[e].each(function(){i[e].index(this)<0&&a.push(this)}),n?o=o.reverse():a=a.reverse(),s._trigger(e+"in",t(o)),s._trigger(e+"out",t(a)),s["_"+e]=i[e]};for(e in i)o(e);return this}})}(jQuery,window),function(t){"use strict";t.jcarousel.fn.scrollIntoView=function(i,e,s){var r,n=t.jCarousel.parseTarget(i),o=this.index(this._fullyvisible.first()),a=this.index(this._fullyvisible.last());if(r=n.relative?n.target<0?Math.max(0,o+n.target):a+n.target:"object"!=typeof n.target?n.target:this.index(n.target),o>r)return this.scroll(r,e,s);if(r>=o&&a>=r)return t.isFunction(s)&&s.call(this,!1),this;for(var l,h=this.items(),u=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",f=0;;){if(l=h.eq(r),0===l.length)break;if(f+=this.dimension(l),f>=u){var d=parseFloat(l.css("margin-"+c))||0;f-d!==u&&r++;break}if(0>=r)break;r--}return this.scroll(r,e,s)}}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onEvent=t.proxy(function(i){i.preventDefault();var e=this.options("method");t.isFunction(e)?e.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var i,e=t.jCarousel.parseTarget(this.options("target")),s=this.carousel();if(e.relative)i=s.jcarousel(e.target>0?"hasNext":"hasPrev");else{var r="object"!=typeof e.target?s.jcarousel("items").eq(e.target):e.target;i=s.jcarousel("target").index(r)>=0}return this._active!==i&&(this._trigger(i?"active":"inactive"),this._active=i),this}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(t){return'<a href="#'+t+'">'+t+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onScroll=t.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null},_reload:function(){var i=this.options("perPage");if(this._pages={},this._items={},t.isFunction(i)&&(i=i.call(this)),null==i)this._pages=this._calculatePages();else for(var e,s=parseInt(i,10)||0,r=this._getCarouselItems(),n=1,o=0;;){if(e=r.eq(o++),0===e.length)break;this._pages[n]?this._pages[n]=this._pages[n].add(e):this._pages[n]=e,o%s===0&&n++}this._clear();var a=this,l=this.carousel().data("jcarousel"),h=this._element,u=this.options("item"),c=this._getCarouselItems().length;t.each(this._pages,function(i,e){var s=a._items[i]=t(u.call(a,i,e));s.on(a.options("event")+".jcarouselpagination",t.proxy(function(){var t=e.eq(0);if(l.circular){var s=l.index(l.target()),r=l.index(t);parseFloat(i)>parseFloat(a._currentPage)?s>r&&(t="+="+(c-s+r)):r>s&&(t="-="+(s+(c-r)))}l[this.options("method")](t)},a)),h.append(s)}),this._update()},_update:function(){var i,e=this.carousel().jcarousel("target");t.each(this._pages,function(t,s){return s.each(function(){return e.is(this)?(i=t,!1):void 0}),i?!1:void 0}),this._currentPage!==i&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[i])),this._currentPage=i},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var t,i,e=this.carousel().data("jcarousel"),s=this._getCarouselItems(),r=e.clipping(),n=0,o=0,a=1,l={};;){if(t=s.eq(o++),0===t.length)break;i=e.dimension(t),n+i>r&&(a++,n=0),n+=i,l[a]?l[a]=l[a].add(t):l[a]=t}return l},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(t,i){"use strict";var e,s,r={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"};t.each(r,function(t,r){return"undefined"!=typeof i[t]?(e=t,s=r,!1):void 0}),t.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_started:!1,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onAnimateEnd=t.proxy(this._start,this),this.onVisibilityChange=t.proxy(function(){i[e]?this._stop():this._start()},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),t(i).on(s,this.onVisibilityChange),this.options("autostart")&&this.start()},_destroy:function(){this._stop(),this.carousel().off("jcarousel:destroy",this.onDestroy),t(i).off(s,this.onVisibilityChange)},_start:function(){return this._stop(),this._started?(this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(t.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this):void 0},_stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this},start:function(){return this._started=!0,this._start(),this},stop:function(){return this._started=!1,this._stop(),this}})}(jQuery,document),function(){var t={};this.tmpl=function i(e,s){var r=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[e]=t[e]||i(document.getElementById(e).innerHTML);return s?r(s):r}}(),$(function(){function t(t){$.ajax({type:"GET",dataType:"json",cache:!1,url:"http://api.pixplorer.co.uk/image?word="+t+"&amount=7&size=tb",success:function(t){"failed"===t.status&&(t=mockData);var i=$("#ideas-template").html(),e=tmpl(i,{data:t.images});$(".grid").remove(),$(".discover .discover-wrapper").append(e),$(".grid").isotope({itemSelector:".tile--ideas",layoutMode:"masonry",masonry:{gutter:20}})},error:function(){console.log("Sorry, images API isn't working!")}})}$(".jcarousel").jcarousel({animation:"slow",wrap:"circular"}),$(".jcarousel-prev").jcarouselControl({target:"-=1"}),$(".jcarousel-next").jcarouselControl({target:"+=1"}),$(".jcarousel").jcarouselAutoscroll({interval:5e3,target:"+=1",autostart:!0});$(".activities-search__button").on("click",function(i){i.preventDefault();var e=$(".activities-search__input");t(encodeURIComponent(e.val())),e.val("")}),t()});var mockData={images:[{imageurl:"img/ideas1.png",word:"Sport"},{imageurl:"img/ideas2.png",word:"Wellnes"},{imageurl:"img/ideas3.png",word:"Extreme Sports"},{imageurl:"img/ideas4.png",word:"Games"},{imageurl:"img/ideas5.png",word:"Culture"},{imageurl:"img/ideas6.png",word:"Relaxation"},{imageurl:"img/ideas7.png",word:"Travelling"}]};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImpDYXJvdXNlbCIsInZlcnNpb24iLCJyUmVsYXRpdmVUYXJnZXQiLCJwYXJzZVRhcmdldCIsInRhcmdldCIsInJlbGF0aXZlIiwicGFydHMiLCJleGVjIiwicGFyc2VJbnQiLCJkZXRlY3RDYXJvdXNlbCIsImVsZW1lbnQiLCJjYXJvdXNlbCIsImxlbmd0aCIsImZpbHRlciIsImZpbmQiLCJwYXJlbnQiLCJiYXNlIiwicGx1Z2luTmFtZSIsIl9vcHRpb25zIiwiX2VsZW1lbnQiLCJfY2Fyb3VzZWwiLCJfaW5pdCIsIm5vb3AiLCJfY3JlYXRlIiwiX2Rlc3Ryb3kiLCJfcmVsb2FkIiwiY3JlYXRlIiwidGhpcyIsImF0dHIiLCJ0b0xvd2VyQ2FzZSIsImRhdGEiLCJfdHJpZ2dlciIsImRlc3Ryb3kiLCJyZW1vdmVEYXRhIiwicmVtb3ZlQXR0ciIsInJlbG9hZCIsIm9wdGlvbnMiLCJrZXkiLCJ2YWx1ZSIsImFyZ3VtZW50cyIsImV4dGVuZCIsImVycm9yIiwidHlwZSIsImV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsImNvbmNhdCIsImVhY2giLCJFdmVudCIsInRyaWdnZXIiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJwbHVnaW4iLCJwbHVnaW5Qcm90b3R5cGUiLCJQbHVnaW4iLCJmbiIsInByb3RvdHlwZSIsImFyZ3MiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsInJldHVyblZhbHVlIiwiaW5zdGFuY2UiLCJpc0Z1bmN0aW9uIiwiY2hhckF0IiwibWV0aG9kVmFsdWUiLCJhcHBseSIsImpRdWVyeSIsIndpbmRvdyIsInRvRmxvYXQiLCJ2YWwiLCJwYXJzZUZsb2F0IiwiYW5pbWF0aW5nIiwidGFpbCIsImluVGFpbCIsInJlc2l6ZVRpbWVyIiwibHQiLCJ2ZXJ0aWNhbCIsInJ0bCIsImNpcmN1bGFyIiwidW5kZXJmbG93IiwibGlzdCIsImNoaWxkcmVuIiwiZXEiLCJpdGVtcyIsImFuaW1hdGlvbiIsInRyYW5zaXRpb25zIiwid3JhcCIsImNlbnRlciIsIl9saXN0IiwiX2l0ZW1zIiwiX3RhcmdldCIsIl9maXJzdCIsIl9sYXN0IiwiX3Zpc2libGUiLCJfZnVsbHl2aXNpYmxlIiwic2VsZiIsIm9uV2luZG93UmVzaXplIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9uIiwib2ZmIiwiaGVpZ2h0Iiwid2lkdGgiLCJmb3VuZCIsInBhcmVudHMiLCJ0ZXN0IiwiY3NzIiwiaXRlbSIsImluZGV4IiwiY2xvc2VzdCIsInByb3BzIiwibGVmdCIsInRvcCIsIl9wcmVwYXJlIiwicmVtb3ZlIiwiX3Bvc2l0aW9uIiwibW92ZSIsIm9wdGlvbiIsIm5vdCIsInBvcyIsInBvc2l0aW9uIiwic3RvcCIsImxyYiIsImNsaXBwaW5nIiwiZGltIiwiZGltZW5zaW9uIiwiTWF0aCIsImFicyIsImZpcnN0IiwibGFzdCIsInZpc2libGUiLCJmdWxseXZpc2libGUiLCJoYXNOZXh0IiwiZW5kIiwiY2hlY2siLCJoYXNQcmV2Iiwic2Nyb2xsIiwiYW5pbWF0ZSIsImNhbGxiYWNrIiwicGFyc2VkIiwiY3VycmVudCIsInN0YXJ0IiwiY3VyciIsImlzVmlzaWJsZSIsImkiLCJfc2Nyb2xsIiwiX3Njcm9sbFRhaWwiLCJnZXQiLCJhZnRlciIsImNsb25lIiwiYXBwZW5kIiwibW92ZUJ5IiwibWluIiwibWF4IiwicHJlcGVuZCIsInByb3BlcnRpZXMiLCJvcHRzIiwibXVsdGlwbGllciIsImNvcnJlY3Rpb24iLCJ0cmFuc2Zvcm1zIiwidHJhbnNmb3JtczNkIiwiZHVyYXRpb24iLCJjb21wbGV0ZSIsImJhY2t1cCIsInRyYW5zaXRpb25EdXJhdGlvbiIsInRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiIsInRyYW5zaXRpb25Qcm9wZXJ0eSIsIm9sZENvbXBsZXRlIiwiZWFzaW5nIiwidHJhbnNmb3JtIiwib25lIiwianF1ZXJ5IiwiY3VyclBvcyIsIl9hbmltYXRlIiwiX3VwZGF0ZSIsIm5leHQiLCJhZGQiLCJwcm94eSIsImMiLCJmeCIsInNwZWVkcyIsIm1hcmdpbiIsImlkeCIsIndoIiwiY2xpcCIsInVwZGF0ZSIsImNlbnRlck9mZnNldCIsImJhY2siLCJkb1VwZGF0ZSIsImVsSW4iLCJlbE91dCIsInB1c2giLCJyZXZlcnNlIiwiamNhcm91c2VsIiwic2Nyb2xsSW50b1ZpZXciLCJtZXRob2QiLCJfYWN0aXZlIiwib25EZXN0cm95Iiwib25SZWxvYWQiLCJvbkV2ZW50IiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWN0aXZlIiwicGVyUGFnZSIsInBhZ2UiLCJfY2Fyb3VzZWxJdGVtcyIsIl9wYWdlcyIsIl9jdXJyZW50UGFnZSIsIm9uU2Nyb2xsIiwiX2NsZWFyIiwiX2NhbGN1bGF0ZVBhZ2VzIiwicHAiLCJfZ2V0Q2Fyb3VzZWxJdGVtcyIsIm51bUNhcm91c2VsSXRlbXMiLCJjYXJvdXNlbEl0ZW1zIiwiY3Vyckl0ZW0iLCJjdXJyZW50SW5kZXgiLCJuZXdJbmRleCIsImN1cnJlbnRQYWdlIiwiaXMiLCJyZWxvYWRDYXJvdXNlbEl0ZW1zIiwiZW1wdHkiLCJwYWdlcyIsImRvY3VtZW50IiwiaGlkZGVuUHJvcCIsInZpc2liaWxpdHlDaGFuZ2VFdmVudCIsInZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWVzIiwiaGlkZGVuIiwibW96SGlkZGVuIiwibXNIaWRkZW4iLCJ3ZWJraXRIaWRkZW4iLCJpbnRlcnZhbCIsImF1dG9zdGFydCIsIl90aW1lciIsIl9zdGFydGVkIiwib25BbmltYXRlRW5kIiwiX3N0YXJ0Iiwib25WaXNpYmlsaXR5Q2hhbmdlIiwiX3N0b3AiLCJjYWNoZSIsInRtcGwiLCJzdHIiLCJGdW5jdGlvbiIsInJlcGxhY2UiLCJzcGxpdCIsImpvaW4iLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInJlbmRlcklkZWFzIiwic2VhcmNoIiwiYWpheCIsImRhdGFUeXBlIiwidXJsIiwic3VjY2VzcyIsInN0YXR1cyIsIm1vY2tEYXRhIiwiaHRtbCIsImNvbnRlbnQiLCJpbWFnZXMiLCJpc290b3BlIiwiaXRlbVNlbGVjdG9yIiwibGF5b3V0TW9kZSIsIm1hc29ucnkiLCJndXR0ZXIiLCJjb25zb2xlIiwibG9nIiwiamNhcm91c2VsQ29udHJvbCIsImpjYXJvdXNlbEF1dG9zY3JvbGwiLCJxdWVyeSIsImVuY29kZVVSSUNvbXBvbmVudCIsImltYWdldXJsIiwid29yZCJdLCJtYXBwaW5ncyI6IkNBTUMsU0FBU0EsR0FDTixZQUVBLElBQUlDLEdBQVlELEVBQUVDLFlBRWxCQSxHQUFVQyxRQUFVLE9BRXBCLElBQUlDLEdBQWtCLGlCQUV0QkYsR0FBVUcsWUFBYyxTQUFTQyxHQUM3QixHQUFJQyxJQUFXLEVBQ1hDLEVBQTZCLGdCQUFYRixHQUNIRixFQUFnQkssS0FBS0gsR0FDckIsSUFlbkIsT0FiSUUsSUFDQUYsRUFBU0ksU0FBU0YsRUFBTSxHQUFJLEtBQU8sRUFFL0JBLEVBQU0sS0FDTkQsR0FBVyxFQUNNLE9BQWJDLEVBQU0sS0FDTkYsR0FBVSxNQUdPLGdCQUFYQSxLQUNkQSxFQUFTSSxTQUFTSixFQUFRLEtBQU8sSUFJakNBLE9BQVFBLEVBQ1JDLFNBQVVBLElBSWxCTCxFQUFVUyxlQUFpQixTQUFTQyxHQUdoQyxJQUZBLEdBQUlDLEdBRUdELEVBQVFFLE9BQVMsR0FBRyxDQUd2QixHQUZBRCxFQUFXRCxFQUFRRyxPQUFPLG9CQUV0QkYsRUFBU0MsT0FBUyxFQUNsQixNQUFPRCxFQUtYLElBRkFBLEVBQVdELEVBQVFJLEtBQUssb0JBRXBCSCxFQUFTQyxPQUFTLEVBQ2xCLE1BQU9ELEVBR1hELEdBQVVBLEVBQVFLLFNBR3RCLE1BQU8sT0FHWGYsRUFBVWdCLEtBQU8sU0FBU0MsR0FDdEIsT0FDSWhCLFFBQVVELEVBQVVDLFFBQ3BCaUIsWUFDQUMsU0FBVyxLQUNYQyxVQUFXLEtBQ1hDLE1BQVd0QixFQUFFdUIsS0FDYkMsUUFBV3hCLEVBQUV1QixLQUNiRSxTQUFXekIsRUFBRXVCLEtBQ2JHLFFBQVcxQixFQUFFdUIsS0FDYkksT0FBUSxXQUtKLE1BSkFDLE1BQUtSLFNBQ0FTLEtBQUssUUFBVVgsRUFBV1ksZUFB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TUEsRUFBS21PLFFBR2ZsUSxHQUFFLFNBQVNrSCxTQUNYbEgsRUFBRSwrQkFBK0JzSixPQUFPMkcsR0FFeENqUSxFQUFFLFNBQVNtUSxTQUNQQyxhQUFjLGVBQ2RDLFdBQVksVUFDWkMsU0FDSUMsT0FBUSxPQUtwQjdOLE1BQU8sV0FDSDhOLFFBQVFDLElBQUksdUNBeEQxQnpRLEVBQUUsY0FBY2lNLFdBRVo3RyxVQUFXLE9BQ1hFLEtBQU0sYUFLVnRGLEVBQUUsbUJBQW1CMFEsa0JBQ2pCclEsT0FBUSxRQUdaTCxFQUFFLG1CQUFtQjBRLGtCQUNqQnJRLE9BQVEsUUFLWkwsRUFBRSxjQUFjMlEscUJBQ1pwQyxTQUFVLElBQ1ZsTyxPQUFRLE1BQ1JtTyxXQUFXLEdBd0NieE8sR0FBRSw4QkFBOEJtRyxHQUFHLFFBQVMsU0FBVXFHLEdBQ2xEQSxFQUFFQyxnQkFDRixJQUFJbUUsR0FBUTVRLEVBQUUsNEJBQ2R3UCxHQUFhcUIsbUJBQW1CRCxFQUFNdk0sUUFDdEN1TSxFQUFNdk0sSUFBSSxNQUdkbUwsS0FFSixJQUFJTyxXQUNBRyxTQUNDWSxTQUFZLGlCQUFrQkMsS0FBUSxVQUN0Q0QsU0FBWSxpQkFBa0JDLEtBQVEsWUFDdENELFNBQVksaUJBQWtCQyxLQUFRLG1CQUN0Q0QsU0FBWSxpQkFBa0JDLEtBQVEsVUFDdENELFNBQVksaUJBQWtCQyxLQUFRLFlBQ3RDRCxTQUFZLGlCQUFrQkMsS0FBUSxlQUN0Q0QsU0FBWSxpQkFBa0JDLEtBQVEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIEN1c3RvbVxyXG4gKi9cclxuLyohIGpDYXJvdXNlbCAtIHYwLjMuNCAtIDIwMTUtMDktMjNcclxuKiBodHRwOi8vc29yZ2FsbGEuY29tL2pjYXJvdXNlbC9cclxuKiBDb3B5cmlnaHQgKGMpIDIwMDYtMjAxNSBKYW4gU29yZ2FsbGE7IExpY2Vuc2VkIE1JVCAqL1xyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBqQ2Fyb3VzZWwgPSAkLmpDYXJvdXNlbCA9IHt9O1xyXG5cclxuICAgIGpDYXJvdXNlbC52ZXJzaW9uID0gJzAuMy40JztcclxuXHJcbiAgICB2YXIgclJlbGF0aXZlVGFyZ2V0ID0gL14oWytcXC1dPSk/KC4rKSQvO1xyXG5cclxuICAgIGpDYXJvdXNlbC5wYXJzZVRhcmdldCA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgICAgIHZhciByZWxhdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICBwYXJ0cyAgICA9IHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgclJlbGF0aXZlVGFyZ2V0LmV4ZWModGFyZ2V0KSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcblxyXG4gICAgICAgIGlmIChwYXJ0cykge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSBwYXJzZUludChwYXJ0c1syXSwgMTApIHx8IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAocGFydHNbMV0pIHtcclxuICAgICAgICAgICAgICAgIHJlbGF0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJy09Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCAqPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gcGFyc2VJbnQodGFyZ2V0LCAxMCkgfHwgMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxyXG4gICAgICAgICAgICByZWxhdGl2ZTogcmVsYXRpdmVcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBqQ2Fyb3VzZWwuZGV0ZWN0Q2Fyb3VzZWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGNhcm91c2VsO1xyXG5cclxuICAgICAgICB3aGlsZSAoZWxlbWVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNhcm91c2VsID0gZWxlbWVudC5maWx0ZXIoJ1tkYXRhLWpjYXJvdXNlbF0nKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjYXJvdXNlbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2Fyb3VzZWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhcm91c2VsID0gZWxlbWVudC5maW5kKCdbZGF0YS1qY2Fyb3VzZWxdJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2Fyb3VzZWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhcm91c2VsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICBqQ2Fyb3VzZWwuYmFzZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB2ZXJzaW9uOiAgakNhcm91c2VsLnZlcnNpb24sXHJcbiAgICAgICAgICAgIF9vcHRpb25zOiAge30sXHJcbiAgICAgICAgICAgIF9lbGVtZW50OiAgbnVsbCxcclxuICAgICAgICAgICAgX2Nhcm91c2VsOiBudWxsLFxyXG4gICAgICAgICAgICBfaW5pdDogICAgICQubm9vcCxcclxuICAgICAgICAgICAgX2NyZWF0ZTogICAkLm5vb3AsXHJcbiAgICAgICAgICAgIF9kZXN0cm95OiAgJC5ub29wLFxyXG4gICAgICAgICAgICBfcmVsb2FkOiAgICQubm9vcCxcclxuICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZGF0YS0nICsgcGx1Z2luTmFtZS50b0xvd2VyQ2FzZSgpLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHBsdWdpbk5hbWUsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmYWxzZSA9PT0gdGhpcy5fdHJpZ2dlcignY3JlYXRlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdjcmVhdGVlbmQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmFsc2UgPT09IHRoaXMuX3RyaWdnZXIoJ2Rlc3Ryb3knKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdkZXN0cm95ZW5kJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHBsdWdpbk5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2RhdGEtJyArIHBsdWdpbk5hbWUudG9Mb3dlckNhc2UoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlbG9hZDogZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhbHNlID09PSB0aGlzLl90cmlnZ2VyKCdyZWxvYWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3JlbG9hZGVuZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbGVtZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9vcHRpb25zW2tleV0gPT09ICd1bmRlZmluZWQnID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYXJvdXNlbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2Nhcm91c2VsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2Fyb3VzZWwgPSBqQ2Fyb3VzZWwuZGV0ZWN0Q2Fyb3VzZWwodGhpcy5vcHRpb25zKCdjYXJvdXNlbCcpIHx8IHRoaXMuX2VsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2Nhcm91c2VsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZXJyb3IoJ0NvdWxkIG5vdCBkZXRlY3QgY2Fyb3VzZWwgZm9yIHBsdWdpbiBcIicgKyBwbHVnaW5OYW1lICsgJ1wiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYXJvdXNlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3RyaWdnZXI6IGZ1bmN0aW9uKHR5cGUsIGVsZW1lbnQsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudCxcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IFt0aGlzXS5jb25jYXQoZGF0YSB8fCBbXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQgfHwgdGhpcy5fZWxlbWVudCkuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudCA9ICQuRXZlbnQoKHBsdWdpbk5hbWUgKyAnOicgKyB0eXBlKS50b0xvd2VyQ2FzZSgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKGV2ZW50LCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAhZGVmYXVsdFByZXZlbnRlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGpDYXJvdXNlbC5wbHVnaW4gPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBwbHVnaW5Qcm90b3R5cGUpIHtcclxuICAgICAgICB2YXIgUGx1Z2luID0gJFtwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9ICQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyhvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2luaXQoKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBQbHVnaW4uZm4gPSBQbHVnaW4ucHJvdG90eXBlID0gJC5leHRlbmQoXHJcbiAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICBqQ2Fyb3VzZWwuYmFzZShwbHVnaW5OYW1lKSxcclxuICAgICAgICAgICAgcGx1Z2luUHJvdG90eXBlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgJC5mbltwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgICAgICAgID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSAkKHRoaXMpLmRhdGEocGx1Z2luTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQuZXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGNhbGwgbWV0aG9kcyBvbiAnICsgcGx1Z2luTmFtZSArICcgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2F0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCBcIicgKyBvcHRpb25zICsgJ1wiJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkLmlzRnVuY3Rpb24oaW5zdGFuY2Vbb3B0aW9uc10pIHx8IG9wdGlvbnMuY2hhckF0KDApID09PSAnXycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQuZXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm8gc3VjaCBtZXRob2QgXCInICsgb3B0aW9ucyArICdcIiBmb3IgJyArIHBsdWdpbk5hbWUgKyAnIGluc3RhbmNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1ldGhvZFZhbHVlID0gaW5zdGFuY2Vbb3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kVmFsdWUgIT09IGluc3RhbmNlICYmIHR5cGVvZiBtZXRob2RWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBtZXRob2RWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9ICQodGhpcykuZGF0YShwbHVnaW5OYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgUGx1Z2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnJlbG9hZChvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFBsdWdpbjtcclxuICAgIH07XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG4oZnVuY3Rpb24oJCwgd2luZG93KSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIHRvRmxvYXQgPSBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWwpIHx8IDA7XHJcbiAgICB9O1xyXG5cclxuICAgICQuakNhcm91c2VsLnBsdWdpbignamNhcm91c2VsJywge1xyXG4gICAgICAgIGFuaW1hdGluZzogICBmYWxzZSxcclxuICAgICAgICB0YWlsOiAgICAgICAgMCxcclxuICAgICAgICBpblRhaWw6ICAgICAgZmFsc2UsXHJcbiAgICAgICAgcmVzaXplVGltZXI6IG51bGwsXHJcbiAgICAgICAgbHQ6ICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgdmVydGljYWw6ICAgIGZhbHNlLFxyXG4gICAgICAgIHJ0bDogICAgICAgICBmYWxzZSxcclxuICAgICAgICBjaXJjdWxhcjogICAgZmFsc2UsXHJcbiAgICAgICAgdW5kZXJmbG93OiAgIGZhbHNlLFxyXG4gICAgICAgIHJlbGF0aXZlOiAgICBmYWxzZSxcclxuXHJcbiAgICAgICAgX29wdGlvbnM6IHtcclxuICAgICAgICAgICAgbGlzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50KCkuY2hpbGRyZW4oKS5lcSgwKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXRlbXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCgpLmNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogICA0MDAsXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiBmYWxzZSxcclxuICAgICAgICAgICAgd3JhcDogICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsOiAgICBudWxsLFxyXG4gICAgICAgICAgICBydGw6ICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgY2VudGVyOiAgICAgIGZhbHNlXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gUHJvdGVjdGVkLCBkb24ndCBhY2Nlc3MgZGlyZWN0bHlcclxuICAgICAgICBfbGlzdDogICAgICAgICBudWxsLFxyXG4gICAgICAgIF9pdGVtczogICAgICAgIG51bGwsXHJcbiAgICAgICAgX3RhcmdldDogICAgICAgJCgpLFxyXG4gICAgICAgIF9maXJzdDogICAgICAgICQoKSxcclxuICAgICAgICBfbGFzdDogICAgICAgICAkKCksXHJcbiAgICAgICAgX3Zpc2libGU6ICAgICAgJCgpLFxyXG4gICAgICAgIF9mdWxseXZpc2libGU6ICQoKSxcclxuICAgICAgICBfaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlc2l6ZVRpbWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYucmVzaXplVGltZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNlbGYucmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVsb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZS5qY2Fyb3VzZWwnLCB0aGlzLm9uV2luZG93UmVzaXplKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplLmpjYXJvdXNlbCcsIHRoaXMub25XaW5kb3dSZXNpemUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3JlbG9hZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmVydGljYWwgPSB0aGlzLm9wdGlvbnMoJ3ZlcnRpY2FsJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsID0gdGhpcy5saXN0KCkuaGVpZ2h0KCkgPiB0aGlzLmxpc3QoKS53aWR0aCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJ0bCA9IHRoaXMub3B0aW9ucygncnRsJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5ydGwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ydGwgPSAoZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoJycgKyBlbGVtZW50LmF0dHIoJ2RpcicpKS50b0xvd2VyQ2FzZSgpID09PSAncnRsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoJ1tkaXJdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgvcnRsL2kpLnRlc3QoJCh0aGlzKS5hdHRyKCdkaXInKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQ7XHJcbiAgICAgICAgICAgICAgICB9KHRoaXMuX2VsZW1lbnQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5sdCA9IHRoaXMudmVydGljYWwgPyAndG9wJyA6ICdsZWZ0JztcclxuXHJcbiAgICAgICAgICAgIC8vIEVuc3VyZSBiZWZvcmUgY2xvc2VzdCgpIGNhbGxcclxuICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZSA9IHRoaXMubGlzdCgpLmNzcygncG9zaXRpb24nKSA9PT0gJ3JlbGF0aXZlJztcclxuXHJcbiAgICAgICAgICAgIC8vIEZvcmNlIGxpc3QgYW5kIGl0ZW1zIHJlbG9hZFxyXG4gICAgICAgICAgICB0aGlzLl9saXN0ICA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pbmRleCh0aGlzLl90YXJnZXQpID49IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3Nlc3QoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIF9wcmVwYXJlKCkgbmVlZHMgdGhpcyBoZXJlXHJcbiAgICAgICAgICAgIHRoaXMuY2lyY3VsYXIgID0gdGhpcy5vcHRpb25zKCd3cmFwJykgPT09ICdjaXJjdWxhcic7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB7J2xlZnQnOiAwLCAndG9wJzogMH07XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmVwYXJlKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0KCkuZmluZCgnW2RhdGEtamNhcm91c2VsLWNsb25lXScpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZvcmNlIGl0ZW1zIHJlbG9hZFxyXG4gICAgICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudW5kZXJmbG93ID0gdGhpcy5fZnVsbHl2aXNpYmxlLmxlbmd0aCA+PSB0aGlzLml0ZW1zKCkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjdWxhciAgPSB0aGlzLmNpcmN1bGFyICYmICF0aGlzLnVuZGVyZmxvdztcclxuXHJcbiAgICAgICAgICAgICAgICBwcm9wc1t0aGlzLmx0XSA9IHRoaXMuX3Bvc2l0aW9uKGl0ZW0pICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tb3ZlKHByb3BzKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGlzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXN0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gdGhpcy5vcHRpb25zKCdsaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0ID0gJC5pc0Z1bmN0aW9uKG9wdGlvbikgPyBvcHRpb24uY2FsbCh0aGlzKSA6IHRoaXMuX2VsZW1lbnQuZmluZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlzdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGl0ZW1zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2l0ZW1zID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gdGhpcy5vcHRpb25zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXRlbXMgPSAoJC5pc0Z1bmN0aW9uKG9wdGlvbikgPyBvcHRpb24uY2FsbCh0aGlzKSA6IHRoaXMubGlzdCgpLmZpbmQob3B0aW9uKSkubm90KCdbZGF0YS1qY2Fyb3VzZWwtY2xvbmVdJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGluZGV4OiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zKCkuaW5kZXgoaXRlbSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9zZXN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgICAgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgcG9zICAgICA9IHRoaXMubGlzdCgpLnBvc2l0aW9uKClbdGhpcy5sdF0sXHJcbiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gJCgpLCAvLyBFbnN1cmUgd2UncmUgcmV0dXJuaW5nIGEgalF1ZXJ5IGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICBzdG9wICAgID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBscmIgICAgID0gdGhpcy52ZXJ0aWNhbCA/ICdib3R0b20nIDogKHRoaXMucnRsICYmICF0aGlzLnJlbGF0aXZlID8gJ2xlZnQnIDogJ3JpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICB3aWR0aDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJ0bCAmJiB0aGlzLnJlbGF0aXZlICYmICF0aGlzLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICBwb3MgKz0gdGhpcy5saXN0KCkud2lkdGgoKSAtIHRoaXMuY2xpcHBpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5pdGVtcygpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGltID0gc2VsZi5kaW1lbnNpb24oY2xvc2VzdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcG9zICs9IGRpbTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocG9zID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGRpbSAtIHRvRmxvYXQoY2xvc2VzdC5jc3MoJ21hcmdpbi0nICsgbHJiKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoTWF0aC5hYnMocG9zKSAtIGRpbSArICh3aWR0aCAvIDIpKSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjbG9zZXN0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFyZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZpcnN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcnN0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGFzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYXN0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmlzaWJsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVsbHl2aXNpYmxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Z1bGx5dmlzaWJsZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc05leHQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UgPT09IHRoaXMuX3RyaWdnZXIoJ2hhc25leHQnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB3cmFwID0gdGhpcy5vcHRpb25zKCd3cmFwJyksXHJcbiAgICAgICAgICAgICAgICBlbmQgPSB0aGlzLml0ZW1zKCkubGVuZ3RoIC0gMSxcclxuICAgICAgICAgICAgICAgIGNoZWNrID0gdGhpcy5vcHRpb25zKCdjZW50ZXInKSA/IHRoaXMuX3RhcmdldCA6IHRoaXMuX2xhc3Q7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZW5kID49IDAgJiYgIXRoaXMudW5kZXJmbG93ICYmXHJcbiAgICAgICAgICAgICAgICAoKHdyYXAgJiYgd3JhcCAhPT0gJ2ZpcnN0JykgfHxcclxuICAgICAgICAgICAgICAgICAgICAodGhpcy5pbmRleChjaGVjaykgPCBlbmQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMudGFpbCAmJiAhdGhpcy5pblRhaWwpKSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc1ByZXY6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UgPT09IHRoaXMuX3RyaWdnZXIoJ2hhc3ByZXYnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB3cmFwID0gdGhpcy5vcHRpb25zKCd3cmFwJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcygpLmxlbmd0aCA+IDAgJiYgIXRoaXMudW5kZXJmbG93ICYmXHJcbiAgICAgICAgICAgICAgICAoKHdyYXAgJiYgd3JhcCAhPT0gJ2xhc3QnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmluZGV4KHRoaXMuX2ZpcnN0KSA+IDApIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMudGFpbCAmJiB0aGlzLmluVGFpbCkpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xpcHBpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudFsnaW5uZXInICsgKHRoaXMudmVydGljYWwgPyAnSGVpZ2h0JyA6ICdXaWR0aCcpXSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGltZW5zaW9uOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50WydvdXRlcicgKyAodGhpcy52ZXJ0aWNhbCA/ICdIZWlnaHQnIDogJ1dpZHRoJyldKHRydWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbih0YXJnZXQsIGFuaW1hdGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChmYWxzZSA9PT0gdGhpcy5fdHJpZ2dlcignc2Nyb2xsJywgbnVsbCwgW3RhcmdldCwgYW5pbWF0ZV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihhbmltYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBhbmltYXRlO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSAgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFyc2VkID0gJC5qQ2Fyb3VzZWwucGFyc2VUYXJnZXQodGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWQucmVsYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmQgICAgPSB0aGlzLml0ZW1zKCkubGVuZ3RoIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwgPSBNYXRoLmFicyhwYXJzZWQudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgICAgICB3cmFwICAgPSB0aGlzLm9wdGlvbnMoJ3dyYXAnKSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0LFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnIsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxyXG4gICAgICAgICAgICAgICAgICAgIGk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50YXJnZXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3QgPSB0aGlzLmluZGV4KHRoaXMuX2xhc3QpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdCA+PSBlbmQgJiYgdGhpcy50YWlsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pblRhaWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbFRhaWwoYW5pbWF0ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdyYXAgPT09ICdib3RoJyB8fCB3cmFwID09PSAnbGFzdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGwoMCwgYW5pbWF0ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5pbmRleCh0aGlzLl90YXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLnVuZGVyZmxvdyAmJiBjdXJyZW50ID09PSBlbmQgJiYgKHdyYXAgPT09ICdjaXJjdWxhcicgfHwgd3JhcCA9PT0gJ2JvdGgnIHx8IHdyYXAgPT09ICdsYXN0JykpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIXRoaXMudW5kZXJmbG93ICYmIGxhc3QgPT09IGVuZCAmJiAod3JhcCA9PT0gJ2JvdGgnIHx8IHdyYXAgPT09ICdsYXN0JykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGwoMCwgYW5pbWF0ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjdXJyZW50ICsgc2Nyb2xsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNpcmN1bGFyICYmIGluZGV4ID4gZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGVuZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gdGhpcy5pdGVtcygpLmdldCgtMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpKysgPCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gdGhpcy5pdGVtcygpLmVxKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGUgPSB0aGlzLl92aXNpYmxlLmluZGV4KGN1cnIpID49IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyLmFmdGVyKGN1cnIuY2xvbmUodHJ1ZSkuYXR0cignZGF0YS1qY2Fyb3VzZWwtY2xvbmUnLCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCgpLmFwcGVuZChjdXJyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNbdGhpcy5sdF0gPSB0aGlzLmRpbWVuc2lvbihjdXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZUJ5KHByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgaXRlbXMgcmVsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbChjdXJyLCBhbmltYXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbChNYXRoLm1pbihpbmRleCwgZW5kKSwgYW5pbWF0ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pblRhaWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsKE1hdGgubWF4KCh0aGlzLmluZGV4KHRoaXMuX2ZpcnN0KSAtIHNjcm9sbCkgKyAxLCAwKSwgYW5pbWF0ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ICA9IHRoaXMuaW5kZXgodGhpcy5fZmlyc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5pbmRleCh0aGlzLl90YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCAgPSB0aGlzLnVuZGVyZmxvdyA/IGN1cnJlbnQgOiBmaXJzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggID0gc3RhcnQgLSBzY3JvbGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPD0gMCAmJiAoKHRoaXMudW5kZXJmbG93ICYmIHdyYXAgPT09ICdjaXJjdWxhcicpIHx8IHdyYXAgPT09ICdib3RoJyB8fCB3cmFwID09PSAnZmlyc3QnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsKGVuZCwgYW5pbWF0ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2lyY3VsYXIgJiYgaW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAgICA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSB0aGlzLml0ZW1zKCkuZ2V0KDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSsrIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gdGhpcy5pdGVtcygpLmVxKC0xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gdGhpcy5fdmlzaWJsZS5pbmRleChjdXJyKSA+PSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5hZnRlcihjdXJyLmNsb25lKHRydWUpLmF0dHIoJ2RhdGEtamNhcm91c2VsLWNsb25lJywgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3QoKS5wcmVwZW5kKGN1cnIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgaXRlbXMgcmVsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaW0gPSB0aGlzLmRpbWVuc2lvbihjdXJyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW3RoaXMubHRdID0gLWRpbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlQnkocHJvcHMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbChjdXJyLCBhbmltYXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbChNYXRoLm1heChpbmRleCwgMCksIGFuaW1hdGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbChwYXJzZWQudGFyZ2V0LCBhbmltYXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3Njcm9sbGVuZCcpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3ZlQnk6IGZ1bmN0aW9uKHByb3BlcnRpZXMsIG9wdHMpIHtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5saXN0KCkucG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSAxLFxyXG4gICAgICAgICAgICAgICAgY29ycmVjdGlvbiA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5ydGwgJiYgIXRoaXMudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3Rpb24gPSB0aGlzLmxpc3QoKS53aWR0aCgpIC0gdGhpcy5jbGlwcGluZygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvcGVydGllcy5sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmxlZnQgPSAocG9zaXRpb24ubGVmdCArIGNvcnJlY3Rpb24gKyB0b0Zsb2F0KHByb3BlcnRpZXMubGVmdCkgKiBtdWx0aXBsaWVyKSArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLnRvcCkge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy50b3AgPSAocG9zaXRpb24udG9wICsgY29ycmVjdGlvbiArIHRvRmxvYXQocHJvcGVydGllcy50b3ApICogbXVsdGlwbGllcikgKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlKHByb3BlcnRpZXMsIG9wdHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZTogZnVuY3Rpb24ocHJvcGVydGllcywgb3B0cykge1xyXG4gICAgICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gICAgICAgPSB0aGlzLm9wdGlvbnMoJ3RyYW5zaXRpb25zJyksXHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9ucyAgPSAhIW9wdGlvbixcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMgICA9ICEhb3B0aW9uLnRyYW5zZm9ybXMsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zM2QgPSAhIW9wdGlvbi50cmFuc2Zvcm1zM2QsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiAgICAgPSBvcHRzLmR1cmF0aW9uIHx8IDAsXHJcbiAgICAgICAgICAgICAgICBsaXN0ICAgICAgICAgPSB0aGlzLmxpc3QoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdHJhbnNpdGlvbnMgJiYgZHVyYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LmFuaW1hdGUocHJvcGVydGllcywgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IG9wdHMuY29tcGxldGUgfHwgJC5ub29wLFxyXG4gICAgICAgICAgICAgICAgY3NzID0ge307XHJcblxyXG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBiYWNrdXAgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogbGlzdC5jc3MoJ3RyYW5zaXRpb25EdXJhdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGxpc3QuY3NzKCd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiBsaXN0LmNzcygndHJhbnNpdGlvblByb3BlcnR5JylcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZENvbXBsZXRlID0gY29tcGxldGU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhiYWNrdXApO1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZENvbXBsZXRlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY3NzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogKGR1cmF0aW9uID4gMCA/IGR1cmF0aW9uIC8gMTAwMCA6IDApICsgJ3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogb3B0aW9uLmVhc2luZyB8fCBvcHRzLmVhc2luZyxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uUHJvcGVydHk6IGR1cmF0aW9uID4gMCA/IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybXMgfHwgdHJhbnNmb3JtczNkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRvIHVzZSAnYWxsJyBiZWNhdXNlIGpRdWVyeSBkb2Vzbid0IHByZWZpeFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3NzIHZhbHVlcywgbGlrZSB0cmFuc2l0aW9uLXByb3BlcnR5OiB0cmFuc2Zvcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzLmxlZnQgPyAnbGVmdCcgOiAndG9wJztcclxuICAgICAgICAgICAgICAgICAgICB9KSgpIDogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtczNkKSB7XHJcbiAgICAgICAgICAgICAgICBjc3MudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKCcgKyAocHJvcGVydGllcy5sZWZ0IHx8IDApICsgJywnICsgKHByb3BlcnRpZXMudG9wIHx8IDApICsgJywwKSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3Jtcykge1xyXG4gICAgICAgICAgICAgICAgY3NzLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIChwcm9wZXJ0aWVzLmxlZnQgfHwgMCkgKyAnLCcgKyAocHJvcGVydGllcy50b3AgfHwgMCkgKyAnKSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkLmV4dGVuZChjc3MsIHByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbnMgJiYgZHVyYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0Lm9uZSgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIE1TVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGlzdC5jc3MoY3NzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfc2Nyb2xsOiBmdW5jdGlvbihpdGVtLCBhbmltYXRlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSB0aGlzLml0ZW1zKCkuZXEoaXRlbSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0uanF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgaXRlbSA9ICQoaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5pblRhaWwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXBhcmUoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zICAgICA9IHRoaXMuX3Bvc2l0aW9uKGl0ZW0pLFxyXG4gICAgICAgICAgICAgICAgY3VyclBvcyA9IHRoaXMubGlzdCgpLnBvc2l0aW9uKClbdGhpcy5sdF07XHJcblxyXG4gICAgICAgICAgICBpZiAocG9zID09PSBjdXJyUG9zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzW3RoaXMubHRdID0gcG9zICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGUocHJvcGVydGllcywgYW5pbWF0ZSwgY2FsbGJhY2spO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfc2Nyb2xsVGFpbDogZnVuY3Rpb24oYW5pbWF0ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW5nIHx8ICF0aGlzLnRhaWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmxpc3QoKS5wb3NpdGlvbigpW3RoaXMubHRdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucnRsICYmIHRoaXMucmVsYXRpdmUgJiYgIXRoaXMudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIHBvcyArPSB0aGlzLmxpc3QoKS53aWR0aCgpIC0gdGhpcy5jbGlwcGluZygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5ydGwgJiYgIXRoaXMudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIHBvcyArPSB0aGlzLnRhaWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb3MgLT0gdGhpcy50YWlsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluVGFpbCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzW3RoaXMubHRdID0gcG9zICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICAgICAgIHRoaXMuX3RhcmdldC5uZXh0KCksXHJcbiAgICAgICAgICAgICAgICBmdWxseXZpc2libGU6IHRoaXMuX2Z1bGx5dmlzaWJsZS5zbGljZSgxKS5hZGQodGhpcy5fdmlzaWJsZS5sYXN0KCkpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZShwcm9wZXJ0aWVzLCBhbmltYXRlLCBjYWxsYmFjayk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9hbmltYXRlOiBmdW5jdGlvbihwcm9wZXJ0aWVzLCBhbmltYXRlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8ICQubm9vcDtcclxuXHJcbiAgICAgICAgICAgIGlmIChmYWxzZSA9PT0gdGhpcy5fdHJpZ2dlcignYW5pbWF0ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gdGhpcy5vcHRpb25zKCdhbmltYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlICA9ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmxpc3QoKS5maW5kKCdbZGF0YS1qY2Fyb3VzZWwtY2xvbmVdJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdhbmltYXRlZW5kJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvcHRzID0gdHlwZW9mIGFuaW1hdGlvbiA9PT0gJ29iamVjdCcgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkLmV4dGVuZCh7fSwgYW5pbWF0aW9uKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkdXJhdGlvbjogYW5pbWF0aW9ufSxcclxuICAgICAgICAgICAgICAgIG9sZENvbXBsZXRlID0gb3B0cy5jb21wbGV0ZSB8fCAkLm5vb3A7XHJcblxyXG4gICAgICAgICAgICBpZiAoYW5pbWF0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIG9wdHMuZHVyYXRpb24gPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiAkLmZ4LnNwZWVkc1tvcHRzLmR1cmF0aW9uXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIG9wdHMuZHVyYXRpb24gPSAkLmZ4LnNwZWVkc1tvcHRzLmR1cmF0aW9uXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0cy5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIG9sZENvbXBsZXRlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vdmUocHJvcGVydGllcywgb3B0cyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9wcmVwYXJlOiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCAgPSB0aGlzLmluZGV4KGl0ZW0pLFxyXG4gICAgICAgICAgICAgICAgaWR4ICAgID0gaW5kZXgsXHJcbiAgICAgICAgICAgICAgICB3aCAgICAgPSB0aGlzLmRpbWVuc2lvbihpdGVtKSxcclxuICAgICAgICAgICAgICAgIGNsaXAgICA9IHRoaXMuY2xpcHBpbmcoKSxcclxuICAgICAgICAgICAgICAgIGxyYiAgICA9IHRoaXMudmVydGljYWwgPyAnYm90dG9tJyA6ICh0aGlzLnJ0bCA/ICdsZWZ0JyAgOiAncmlnaHQnKSxcclxuICAgICAgICAgICAgICAgIGNlbnRlciA9IHRoaXMub3B0aW9ucygnY2VudGVyJyksXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAgICAgICBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0OiAgICAgICAgaXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0OiAgICAgICAgIGl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogICAgICBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGx5dmlzaWJsZTogd2ggPD0gY2xpcCA/IGl0ZW0gOiAkKClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjdXJyLFxyXG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgbWFyZ2luLFxyXG4gICAgICAgICAgICAgICAgZGltO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgd2ggLz0gMjtcclxuICAgICAgICAgICAgICAgIGNsaXAgLz0gMjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHdoIDwgY2xpcCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyID0gdGhpcy5pdGVtcygpLmVxKCsraWR4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaXJjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSB0aGlzLml0ZW1zKCkuZXEoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5nZXQoMCkgPT09IGN1cnIuZ2V0KDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gdGhpcy5fdmlzaWJsZS5pbmRleChjdXJyKSA+PSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5hZnRlcihjdXJyLmNsb25lKHRydWUpLmF0dHIoJ2RhdGEtamNhcm91c2VsLWNsb25lJywgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3QoKS5hcHBlbmQoY3Vycik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1t0aGlzLmx0XSA9IHRoaXMuZGltZW5zaW9uKGN1cnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlQnkocHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBpdGVtcyByZWxvYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGltID0gdGhpcy5kaW1lbnNpb24oY3Vycik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaW0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aCArPSBkaW07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5sYXN0ICAgID0gY3VycjtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUudmlzaWJsZSA9IHVwZGF0ZS52aXNpYmxlLmFkZChjdXJyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHJpZ2h0L2JvdHRvbSBtYXJnaW4gZnJvbSB0b3RhbCB3aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbiA9IHRvRmxvYXQoY3Vyci5jc3MoJ21hcmdpbi0nICsgbHJiKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgod2ggLSBtYXJnaW4pIDw9IGNsaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmZ1bGx5dmlzaWJsZSA9IHVwZGF0ZS5mdWxseXZpc2libGUuYWRkKGN1cnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdoID49IGNsaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2lyY3VsYXIgJiYgIWNlbnRlciAmJiB3aCA8IGNsaXApIHtcclxuICAgICAgICAgICAgICAgIGlkeCA9IGluZGV4O1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKC0taWR4IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnIgPSB0aGlzLml0ZW1zKCkuZXEoaWR4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGltID0gdGhpcy5kaW1lbnNpb24oY3Vycik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaW0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aCArPSBkaW07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5maXJzdCAgID0gY3VycjtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUudmlzaWJsZSA9IHVwZGF0ZS52aXNpYmxlLmFkZChjdXJyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHJpZ2h0L2JvdHRvbSBtYXJnaW4gZnJvbSB0b3RhbCB3aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbiA9IHRvRmxvYXQoY3Vyci5jc3MoJ21hcmdpbi0nICsgbHJiKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgod2ggLSBtYXJnaW4pIDw9IGNsaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmZ1bGx5dmlzaWJsZSA9IHVwZGF0ZS5mdWxseXZpc2libGUuYWRkKGN1cnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdoID49IGNsaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUodXBkYXRlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWNlbnRlciAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zKCd3cmFwJykgIT09ICdjaXJjdWxhcicgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucygnd3JhcCcpICE9PSAnY3VzdG9tJyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCh1cGRhdGUubGFzdCkgPT09ICh0aGlzLml0ZW1zKCkubGVuZ3RoIC0gMSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcmlnaHQvYm90dG9tIG1hcmdpbiBmcm9tIHRvdGFsIHdpZHRoXHJcbiAgICAgICAgICAgICAgICB3aCAtPSB0b0Zsb2F0KHVwZGF0ZS5sYXN0LmNzcygnbWFyZ2luLScgKyBscmIpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2ggPiBjbGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWlsID0gd2ggLSBjbGlwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9wb3NpdGlvbjogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgZmlyc3QgID0gdGhpcy5fZmlyc3QsXHJcbiAgICAgICAgICAgICAgICBwb3MgICAgPSBmaXJzdC5wb3NpdGlvbigpW3RoaXMubHRdLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyID0gdGhpcy5vcHRpb25zKCdjZW50ZXInKSxcclxuICAgICAgICAgICAgICAgIGNlbnRlck9mZnNldCA9IGNlbnRlciA/ICh0aGlzLmNsaXBwaW5nKCkgLyAyKSAtICh0aGlzLmRpbWVuc2lvbihmaXJzdCkgLyAyKSA6IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5ydGwgJiYgIXRoaXMudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zIC09IHRoaXMubGlzdCgpLndpZHRoKCkgLSB0aGlzLmRpbWVuc2lvbihmaXJzdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcyAtPSB0aGlzLmNsaXBwaW5nKCkgLSB0aGlzLmRpbWVuc2lvbihmaXJzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcG9zICs9IGNlbnRlck9mZnNldDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBvcyAtPSBjZW50ZXJPZmZzZXQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghY2VudGVyICYmXHJcbiAgICAgICAgICAgICAgICAodGhpcy5pbmRleChpdGVtKSA+IHRoaXMuaW5kZXgoZmlyc3QpIHx8IHRoaXMuaW5UYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy50YWlsKSB7XHJcbiAgICAgICAgICAgICAgICBwb3MgPSB0aGlzLnJ0bCAmJiAhdGhpcy52ZXJ0aWNhbCA/IHBvcyAtIHRoaXMudGFpbCA6IHBvcyArIHRoaXMudGFpbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5UYWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5UYWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAtcG9zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3VwZGF0ZTogZnVuY3Rpb24odXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAgICAgICB0aGlzLl90YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3Q6ICAgICAgICB0aGlzLl9maXJzdCxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0OiAgICAgICAgIHRoaXMuX2xhc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogICAgICB0aGlzLl92aXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGx5dmlzaWJsZTogdGhpcy5fZnVsbHl2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYmFjayA9IHRoaXMuaW5kZXgodXBkYXRlLmZpcnN0IHx8IGN1cnJlbnQuZmlyc3QpIDwgdGhpcy5pbmRleChjdXJyZW50LmZpcnN0KSxcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIGRvVXBkYXRlID0gZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsSW4gID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsT3V0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50W2tleV0uaW5kZXgodGhpcykgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbEluLnB1c2godGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFtrZXldLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVba2V5XS5pbmRleCh0aGlzKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsT3V0LnB1c2godGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxJbiA9IGVsSW4ucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsT3V0ID0gZWxPdXQucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHJpZ2dlcihrZXkgKyAnaW4nLCAkKGVsSW4pKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl90cmlnZ2VyKGtleSArICdvdXQnLCAkKGVsT3V0KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGZbJ18nICsga2V5XSA9IHVwZGF0ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoa2V5IGluIHVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9VcGRhdGUoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0oalF1ZXJ5LCB3aW5kb3cpKTtcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgJC5qY2Fyb3VzZWwuZm4uc2Nyb2xsSW50b1ZpZXcgPSBmdW5jdGlvbih0YXJnZXQsIGFuaW1hdGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIHBhcnNlZCA9ICQuakNhcm91c2VsLnBhcnNlVGFyZ2V0KHRhcmdldCksXHJcbiAgICAgICAgICAgIGZpcnN0ICA9IHRoaXMuaW5kZXgodGhpcy5fZnVsbHl2aXNpYmxlLmZpcnN0KCkpLFxyXG4gICAgICAgICAgICBsYXN0ICAgPSB0aGlzLmluZGV4KHRoaXMuX2Z1bGx5dmlzaWJsZS5sYXN0KCkpLFxyXG4gICAgICAgICAgICBpbmRleDtcclxuXHJcbiAgICAgICAgaWYgKHBhcnNlZC5yZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICBpbmRleCA9IHBhcnNlZC50YXJnZXQgPCAwID8gTWF0aC5tYXgoMCwgZmlyc3QgKyBwYXJzZWQudGFyZ2V0KSA6IGxhc3QgKyBwYXJzZWQudGFyZ2V0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluZGV4ID0gdHlwZW9mIHBhcnNlZC50YXJnZXQgIT09ICdvYmplY3QnID8gcGFyc2VkLnRhcmdldCA6IHRoaXMuaW5kZXgocGFyc2VkLnRhcmdldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5kZXggPCBmaXJzdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGwoaW5kZXgsIGFuaW1hdGUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmRleCA+PSBmaXJzdCAmJiBpbmRleCA8PSBsYXN0KSB7XHJcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zKCksXHJcbiAgICAgICAgICAgIGNsaXAgPSB0aGlzLmNsaXBwaW5nKCksXHJcbiAgICAgICAgICAgIGxyYiAgPSB0aGlzLnZlcnRpY2FsID8gJ2JvdHRvbScgOiAodGhpcy5ydGwgPyAnbGVmdCcgIDogJ3JpZ2h0JyksXHJcbiAgICAgICAgICAgIHdoICAgPSAwLFxyXG4gICAgICAgICAgICBjdXJyO1xyXG5cclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICBjdXJyID0gaXRlbXMuZXEoaW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGN1cnIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2ggKz0gdGhpcy5kaW1lbnNpb24oY3Vycik7XHJcblxyXG4gICAgICAgICAgICBpZiAod2ggPj0gY2xpcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmdpbiA9IHBhcnNlRmxvYXQoY3Vyci5jc3MoJ21hcmdpbi0nICsgbHJiKSkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGlmICgod2ggLSBtYXJnaW4pICE9PSBjbGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGluZGV4LS07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGwoaW5kZXgsIGFuaW1hdGUsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgICQuakNhcm91c2VsLnBsdWdpbignamNhcm91c2VsQ29udHJvbCcsIHtcclxuICAgICAgICBfb3B0aW9uczoge1xyXG4gICAgICAgICAgICB0YXJnZXQ6ICcrPTEnLFxyXG4gICAgICAgICAgICBldmVudDogICdjbGljaycsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ3Njcm9sbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9hY3RpdmU6IG51bGwsXHJcbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveSA9ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsKClcclxuICAgICAgICAgICAgICAgICAgICAub25lKCdqY2Fyb3VzZWw6Y3JlYXRlZW5kJywgJC5wcm94eSh0aGlzLl9jcmVhdGUsIHRoaXMpKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMub25SZWxvYWQgPSAkLnByb3h5KHRoaXMuX3JlbG9hZCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMub25FdmVudCA9ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtZXRob2QgPSB0aGlzLm9wdGlvbnMoJ21ldGhvZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24obWV0aG9kKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZC5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpjYXJvdXNlbCh0aGlzLm9wdGlvbnMoJ21ldGhvZCcpLCB0aGlzLm9wdGlvbnMoJ3RhcmdldCcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbCgpXHJcbiAgICAgICAgICAgICAgICAub25lKCdqY2Fyb3VzZWw6ZGVzdHJveScsIHRoaXMub25EZXN0cm95KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdqY2Fyb3VzZWw6cmVsb2FkZW5kIGpjYXJvdXNlbDpzY3JvbGxlbmQnLCB0aGlzLm9uUmVsb2FkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAgICAgICAgIC5vbih0aGlzLm9wdGlvbnMoJ2V2ZW50JykgKyAnLmpjYXJvdXNlbGNvbnRyb2wnLCB0aGlzLm9uRXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fcmVsb2FkKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAgICAgICAgIC5vZmYoJy5qY2Fyb3VzZWxjb250cm9sJywgdGhpcy5vbkV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwoKVxyXG4gICAgICAgICAgICAgICAgLm9mZignamNhcm91c2VsOmRlc3Ryb3knLCB0aGlzLm9uRGVzdHJveSlcclxuICAgICAgICAgICAgICAgIC5vZmYoJ2pjYXJvdXNlbDpyZWxvYWRlbmQgamNhcm91c2VsOnNjcm9sbGVuZCcsIHRoaXMub25SZWxvYWQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3JlbG9hZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJzZWQgICA9ICQuakNhcm91c2VsLnBhcnNlVGFyZ2V0KHRoaXMub3B0aW9ucygndGFyZ2V0JykpLFxyXG4gICAgICAgICAgICAgICAgY2Fyb3VzZWwgPSB0aGlzLmNhcm91c2VsKCksXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU7XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyc2VkLnJlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBjYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgIC5qY2Fyb3VzZWwocGFyc2VkLnRhcmdldCA+IDAgPyAnaGFzTmV4dCcgOiAnaGFzUHJldicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHR5cGVvZiBwYXJzZWQudGFyZ2V0ICE9PSAnb2JqZWN0JyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Fyb3VzZWwuamNhcm91c2VsKCdpdGVtcycpLmVxKHBhcnNlZC50YXJnZXQpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGNhcm91c2VsLmpjYXJvdXNlbCgndGFyZ2V0JykuaW5kZXgodGFyZ2V0KSA+PSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlICE9PSBhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoYWN0aXZlID8gJ2FjdGl2ZScgOiAnaW5hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgICQuakNhcm91c2VsLnBsdWdpbignamNhcm91c2VsUGFnaW5hdGlvbicsIHtcclxuICAgICAgICBfb3B0aW9uczoge1xyXG4gICAgICAgICAgICBwZXJQYWdlOiBudWxsLFxyXG4gICAgICAgICAgICBpdGVtOiBmdW5jdGlvbihwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxhIGhyZWY9XCIjJyArIHBhZ2UgKyAnXCI+JyArIHBhZ2UgKyAnPC9hPic7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGV2ZW50OiAgJ2NsaWNrJyxcclxuICAgICAgICAgICAgbWV0aG9kOiAnc2Nyb2xsJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2Nhcm91c2VsSXRlbXM6IG51bGwsXHJcbiAgICAgICAgX3BhZ2VzOiB7fSxcclxuICAgICAgICBfaXRlbXM6IHt9LFxyXG4gICAgICAgIF9jdXJyZW50UGFnZTogbnVsbCxcclxuICAgICAgICBfaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95ID0gJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbmUoJ2pjYXJvdXNlbDpjcmVhdGVlbmQnLCAkLnByb3h5KHRoaXMuX2NyZWF0ZSwgdGhpcykpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5vblJlbG9hZCA9ICQucHJveHkodGhpcy5fcmVsb2FkLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5vblNjcm9sbCA9ICQucHJveHkodGhpcy5fdXBkYXRlLCB0aGlzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsKClcclxuICAgICAgICAgICAgICAgIC5vbmUoJ2pjYXJvdXNlbDpkZXN0cm95JywgdGhpcy5vbkRlc3Ryb3kpXHJcbiAgICAgICAgICAgICAgICAub24oJ2pjYXJvdXNlbDpyZWxvYWRlbmQnLCB0aGlzLm9uUmVsb2FkKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdqY2Fyb3VzZWw6c2Nyb2xsZW5kJywgdGhpcy5vblNjcm9sbCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9yZWxvYWQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwoKVxyXG4gICAgICAgICAgICAgICAgLm9mZignamNhcm91c2VsOmRlc3Ryb3knLCB0aGlzLm9uRGVzdHJveSlcclxuICAgICAgICAgICAgICAgIC5vZmYoJ2pjYXJvdXNlbDpyZWxvYWRlbmQnLCB0aGlzLm9uUmVsb2FkKVxyXG4gICAgICAgICAgICAgICAgLm9mZignamNhcm91c2VsOnNjcm9sbGVuZCcsIHRoaXMub25TY3JvbGwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fY2Fyb3VzZWxJdGVtcyA9IG51bGw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfcmVsb2FkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHBlclBhZ2UgPSB0aGlzLm9wdGlvbnMoJ3BlclBhZ2UnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3BhZ2VzID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0ge307XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcGFnZXNcclxuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihwZXJQYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgcGVyUGFnZSA9IHBlclBhZ2UuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBlclBhZ2UgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFnZXMgPSB0aGlzLl9jYWxjdWxhdGVQYWdlcygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBwICAgID0gcGFyc2VJbnQocGVyUGFnZSwgMTApIHx8IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLl9nZXRDYXJvdXNlbEl0ZW1zKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZSAgPSAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGkgICAgID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyciA9IGl0ZW1zLmVxKGkrKyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcGFnZXNbcGFnZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFnZXNbcGFnZV0gPSBjdXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhZ2VzW3BhZ2VdID0gdGhpcy5fcGFnZXNbcGFnZV0uYWRkKGN1cnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgJSBwcCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jbGVhcigpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGYgICAgID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGNhcm91c2VsID0gdGhpcy5jYXJvdXNlbCgpLmRhdGEoJ2pjYXJvdXNlbCcpLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudCAgPSB0aGlzLl9lbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgaXRlbSAgICAgPSB0aGlzLm9wdGlvbnMoJ2l0ZW0nKSxcclxuICAgICAgICAgICAgICAgIG51bUNhcm91c2VsSXRlbXMgPSB0aGlzLl9nZXRDYXJvdXNlbEl0ZW1zKCkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX3BhZ2VzLCBmdW5jdGlvbihwYWdlLCBjYXJvdXNlbEl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3Vyckl0ZW0gPSBzZWxmLl9pdGVtc1twYWdlXSA9ICQoaXRlbS5jYWxsKHNlbGYsIHBhZ2UsIGNhcm91c2VsSXRlbXMpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJySXRlbS5vbihzZWxmLm9wdGlvbnMoJ2V2ZW50JykgKyAnLmpjYXJvdXNlbHBhZ2luYXRpb24nLCAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBjYXJvdXNlbEl0ZW1zLmVxKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBjaXJjdWxhciB3cmFwcGluZyBlbmFibGVkLCBlbnN1cmUgY29ycmVjdCBzY3JvbGxpbmcgZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcm91c2VsLmNpcmN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBjYXJvdXNlbC5pbmRleChjYXJvdXNlbC50YXJnZXQoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCAgICAgPSBjYXJvdXNlbC5pbmRleCh0YXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQocGFnZSkgPiBwYXJzZUZsb2F0KHNlbGYuX2N1cnJlbnRQYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4IDwgY3VycmVudEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gJys9JyArIChudW1DYXJvdXNlbEl0ZW1zIC0gY3VycmVudEluZGV4ICsgbmV3SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID4gY3VycmVudEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gJy09JyArIChjdXJyZW50SW5kZXggKyAobnVtQ2Fyb3VzZWxJdGVtcyAtIG5ld0luZGV4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsW3RoaXMub3B0aW9ucygnbWV0aG9kJyldKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9LCBzZWxmKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoY3Vyckl0ZW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3VwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmNhcm91c2VsKCkuamNhcm91c2VsKCd0YXJnZXQnKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlO1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX3BhZ2VzLCBmdW5jdGlvbihwYWdlLCBjYXJvdXNlbEl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBjYXJvdXNlbEl0ZW1zLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pcyh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRQYWdlICE9PSBjdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignaW5hY3RpdmUnLCB0aGlzLl9pdGVtc1t0aGlzLl9jdXJyZW50UGFnZV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignYWN0aXZlJywgdGhpcy5faXRlbXNbY3VycmVudFBhZ2VdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGl0ZW1zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVsb2FkQ2Fyb3VzZWxJdGVtczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nhcm91c2VsSXRlbXMgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9jbGVhcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBhZ2UgPSBudWxsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2NhbGN1bGF0ZVBhZ2VzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGNhcm91c2VsID0gdGhpcy5jYXJvdXNlbCgpLmRhdGEoJ2pjYXJvdXNlbCcpLFxyXG4gICAgICAgICAgICAgICAgaXRlbXMgICAgPSB0aGlzLl9nZXRDYXJvdXNlbEl0ZW1zKCksXHJcbiAgICAgICAgICAgICAgICBjbGlwICAgICA9IGNhcm91c2VsLmNsaXBwaW5nKCksXHJcbiAgICAgICAgICAgICAgICB3aCAgICAgICA9IDAsXHJcbiAgICAgICAgICAgICAgICBpZHggICAgICA9IDAsXHJcbiAgICAgICAgICAgICAgICBwYWdlICAgICA9IDEsXHJcbiAgICAgICAgICAgICAgICBwYWdlcyAgICA9IHt9LFxyXG4gICAgICAgICAgICAgICAgY3VycixcclxuICAgICAgICAgICAgICAgIGRpbTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyID0gaXRlbXMuZXEoaWR4KyspO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRpbSA9IGNhcm91c2VsLmRpbWVuc2lvbihjdXJyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHdoICsgZGltKSA+IGNsaXApIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgd2ggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHdoICs9IGRpbTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VzW3BhZ2VdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZXNbcGFnZV0gPSBjdXJyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlc1twYWdlXSA9IHBhZ2VzW3BhZ2VdLmFkZChjdXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhZ2VzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2dldENhcm91c2VsSXRlbXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Nhcm91c2VsSXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Nhcm91c2VsSXRlbXMgPSB0aGlzLmNhcm91c2VsKCkuamNhcm91c2VsKCdpdGVtcycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2Fyb3VzZWxJdGVtcztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufShqUXVlcnkpKTtcclxuXHJcbihmdW5jdGlvbigkLCBkb2N1bWVudCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBoaWRkZW5Qcm9wLFxyXG4gICAgICAgIHZpc2liaWxpdHlDaGFuZ2VFdmVudCxcclxuICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lcyA9IHtcclxuICAgICAgICAgICAgaGlkZGVuOiAndmlzaWJpbGl0eWNoYW5nZScsXHJcbiAgICAgICAgICAgIG1vekhpZGRlbjogJ21venZpc2liaWxpdHljaGFuZ2UnLFxyXG4gICAgICAgICAgICBtc0hpZGRlbjogJ21zdmlzaWJpbGl0eWNoYW5nZScsXHJcbiAgICAgICAgICAgIHdlYmtpdEhpZGRlbjogJ3dlYmtpdHZpc2liaWxpdHljaGFuZ2UnXHJcbiAgICAgICAgfVxyXG4gICAgO1xyXG5cclxuICAgICQuZWFjaCh2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lcywgZnVuY3Rpb24oa2V5LCB2YWwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50W2tleV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGhpZGRlblByb3AgPSBrZXk7XHJcbiAgICAgICAgICAgIHZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IHZhbDtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQuakNhcm91c2VsLnBsdWdpbignamNhcm91c2VsQXV0b3Njcm9sbCcsIHtcclxuICAgICAgICBfb3B0aW9uczoge1xyXG4gICAgICAgICAgICB0YXJnZXQ6ICAgICcrPTEnLFxyXG4gICAgICAgICAgICBpbnRlcnZhbDogIDMwMDAsXHJcbiAgICAgICAgICAgIGF1dG9zdGFydDogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3RpbWVyOiBudWxsLFxyXG4gICAgICAgIF9zdGFydGVkOiBmYWxzZSxcclxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveSA9ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsKClcclxuICAgICAgICAgICAgICAgICAgICAub25lKCdqY2Fyb3VzZWw6Y3JlYXRlZW5kJywgJC5wcm94eSh0aGlzLl9jcmVhdGUsIHRoaXMpKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uQW5pbWF0ZUVuZCA9ICQucHJveHkodGhpcy5fc3RhcnQsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgPSAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50W2hpZGRlblByb3BdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsKClcclxuICAgICAgICAgICAgICAgIC5vbmUoJ2pjYXJvdXNlbDpkZXN0cm95JywgdGhpcy5vbkRlc3Ryb3kpO1xyXG5cclxuICAgICAgICAgICAgJChkb2N1bWVudClcclxuICAgICAgICAgICAgICAgIC5vbih2aXNpYmlsaXR5Q2hhbmdlRXZlbnQsIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMoJ2F1dG9zdGFydCcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RvcCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbCgpXHJcbiAgICAgICAgICAgICAgICAub2ZmKCdqY2Fyb3VzZWw6ZGVzdHJveScsIHRoaXMub25EZXN0cm95KTtcclxuXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpXHJcbiAgICAgICAgICAgICAgICAub2ZmKHZpc2liaWxpdHlDaGFuZ2VFdmVudCwgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3N0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RvcCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdGFydGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwoKVxyXG4gICAgICAgICAgICAgICAgLm9uZSgnamNhcm91c2VsOmFuaW1hdGVlbmQnLCB0aGlzLm9uQW5pbWF0ZUVuZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwoKS5qY2Fyb3VzZWwoJ3Njcm9sbCcsIHRoaXMub3B0aW9ucygndGFyZ2V0JykpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSwgdGhpcy5vcHRpb25zKCdpbnRlcnZhbCcpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3N0b3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbCgpXHJcbiAgICAgICAgICAgICAgICAub2ZmKCdqY2Fyb3VzZWw6YW5pbWF0ZWVuZCcsIHRoaXMub25BbmltYXRlRW5kKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnQoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RvcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fc3RvcCgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0oalF1ZXJ5LCBkb2N1bWVudCkpO1xyXG4vLyBTaW1wbGUgSmF2YVNjcmlwdCBUZW1wbGF0aW5nXHJcbi8vIEpvaG4gUmVzaWcgLSBodHRwOi8vZWpvaG4ub3JnLyAtIE1JVCBMaWNlbnNlZFxyXG4oIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjYWNoZSA9IHt9O1xyXG5cclxuICAgIHRoaXMudG1wbCA9IGZ1bmN0aW9uIHRtcGwoIHN0ciwgZGF0YSApIHtcclxuXHJcbiAgICAgICAgLy8gRmlndXJlIG91dCBpZiB3ZSdyZSBnZXR0aW5nIGEgdGVtcGxhdGUsIG9yIGlmIHdlIG5lZWQgdG9cclxuICAgICAgICAvLyBsb2FkIHRoZSB0ZW1wbGF0ZSAtIGFuZCBiZSBzdXJlIHRvIGNhY2hlIHRoZSByZXN1bHQuXHJcbiAgICAgICAgdmFyIGZuID0gIS9cXFcvLnRlc3QoIHN0ciApID9cclxuICAgICAgICAgIGNhY2hlWyBzdHIgXSA9IGNhY2hlWyBzdHIgXSB8fFxyXG4gICAgICAgICAgICB0bXBsKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggc3RyICkuaW5uZXJIVE1MICkgOlxyXG5cclxuICAgICAgLy8gR2VuZXJhdGUgYSByZXVzYWJsZSBmdW5jdGlvbiB0aGF0IHdpbGwgc2VydmUgYXMgYSB0ZW1wbGF0ZVxyXG4gICAgICAgICAgLy8gZ2VuZXJhdG9yIChhbmQgd2hpY2ggd2lsbCBiZSBjYWNoZWQpLlxyXG4gICAgICAgICAgbmV3IEZ1bmN0aW9uKCAnb2JqJyxcclxuICAgICAgICAgICAgJ3ZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9OycgK1xyXG5cclxuICAgICAgICAvLyBJbnRyb2R1Y2UgdGhlIGRhdGEgYXMgbG9jYWwgdmFyaWFibGVzIHVzaW5nIHdpdGgoKXt9XHJcbiAgICAgICAgICAgIFwid2l0aChvYmope3AucHVzaCgnXCIgK1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHRoZSB0ZW1wbGF0ZSBpbnRvIHB1cmUgSmF2YVNjcmlwdFxyXG4gICAgICAgICAgICBzdHJcclxuICAgICAgICAgICAgICAucmVwbGFjZSggL1tcXHJcXHRcXG5dL2csICcgJyApXHJcbiAgICAgICAgICAgICAgLnNwbGl0KCAnPCUnICkuam9pbiggJ1xcdCcgKVxyXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCAvKChefCU+KVteXFx0XSopJy9nLCAnJDFcXHInIClcclxuICAgICAgICAgICAgICAucmVwbGFjZSggL1xcdD0oLio/KSU+L2csIFwiJywkMSwnXCIgKVxyXG4gICAgICAgICAgICAgIC5zcGxpdCggJ1xcdCcgKS5qb2luKCBcIicpO1wiIClcclxuICAgICAgICAgICAgICAuc3BsaXQoICclPicgKS5qb2luKCBcInAucHVzaCgnXCIgKVxyXG4gICAgICAgICAgICAgIC5zcGxpdCggJ1xccicgKS5qb2luKCBcIlxcXFwnXCIgKSArIFwiJyk7fXJldHVybiBwLmpvaW4oJycpO1wiICk7XHJcblxyXG4gICAgICAgIC8vIFByb3ZpZGUgc29tZSBiYXNpYyBjdXJyeWluZyB0byB0aGUgdXNlclxyXG4gICAgICAgIHJldHVybiBkYXRhID8gZm4oIGRhdGEgKSA6IGZuO1xyXG4gICAgfTtcclxufSApKCk7XHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQu9Cw0LnQtNC10YDQsFxyXG5cclxuICAkKCcuamNhcm91c2VsJykuamNhcm91c2VsKHtcclxuICAgIC8vINCR0LDQt9C+0LLRi9C1INC90LDRgdGC0YDQvtC50LrQuCDRgdC60YDQuNC/0YLQsCDQv9C40YjRg9GC0YHRjyDQt9C00LXRgdGMXHJcbiAgICAgIGFuaW1hdGlvbjogJ3Nsb3cnLFxyXG4gICAgICB3cmFwOiAnY2lyY3VsYXInXHJcbiAgfSk7XHJcblxyXG4gICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/RgNC+0LrRgNGD0YLQutC4INGB0LvQsNC50LTQtdGA0LBcclxuXHJcbiAgJCgnLmpjYXJvdXNlbC1wcmV2JykuamNhcm91c2VsQ29udHJvbCh7XHJcbiAgICAgIHRhcmdldDogJy09MSdcclxuICB9KTtcclxuXHJcbiAgJCgnLmpjYXJvdXNlbC1uZXh0JykuamNhcm91c2VsQ29udHJvbCh7XHJcbiAgICAgIHRhcmdldDogJys9MSdcclxuICB9KTtcclxuXHJcbiAgICAvLyDQkNCy0YLQvtC/0YDQvtC60YDRg9GC0LrQsCDRgdC70LDQudC00LXRgNCwXHJcblxyXG4gICQoJy5qY2Fyb3VzZWwnKS5qY2Fyb3VzZWxBdXRvc2Nyb2xsKHtcclxuICAgICAgaW50ZXJ2YWw6IDUwMDAsXHJcbiAgICAgIHRhcmdldDogJys9MScsXHJcbiAgICAgIGF1dG9zdGFydDogdHJ1ZVxyXG4gIH0pO1xyXG5cclxuICB2YXIgc2VhcmNoID0gJyc7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlcklkZWFzKHNlYXJjaCkge1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLnBpeHBsb3Jlci5jby51ay9pbWFnZT93b3JkPScgKyBzZWFyY2ggKyAnJmFtb3VudD03JnNpemU9dGInLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnZmFpbGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBtb2NrRGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICQoJyNpZGVhcy10ZW1wbGF0ZScpLmh0bWwoKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gdG1wbChodG1sLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YS5pbWFnZXNcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICQoJy5ncmlkJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZGlzY292ZXIgLmRpc2NvdmVyLXdyYXBwZXInKS5hcHBlbmQoY29udGVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLmdyaWQnKS5pc290b3BlKHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcudGlsZS0taWRlYXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxheW91dE1vZGU6ICdtYXNvbnJ5JyxcclxuICAgICAgICAgICAgICAgICAgICBtYXNvbnJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1dHRlcjogMjBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU29ycnksIGltYWdlcyBBUEkgaXNuXFwndCB3b3JraW5nIScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmFjdGl2aXRpZXMtc2VhcmNoX19idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgcXVlcnkgPSAkKCcuYWN0aXZpdGllcy1zZWFyY2hfX2lucHV0Jyk7XHJcbiAgICAgICAgcmVuZGVySWRlYXMoIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeS52YWwoKSApKTtcclxuICAgICAgICBxdWVyeS52YWwoJycpO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHJlbmRlcklkZWFzKCk7XHJcbn0pO1xyXG52YXIgbW9ja0RhdGEgPSB7XHJcbiAgICBcImltYWdlc1wiOltcclxuICAgIHtcImltYWdldXJsXCI6IFwiaW1nL2lkZWFzMS5wbmdcIiwgXCJ3b3JkXCI6IFwiU3BvcnRcIn0sXHJcbiAgICB7XCJpbWFnZXVybFwiOiBcImltZy9pZGVhczIucG5nXCIsIFwid29yZFwiOiBcIldlbGxuZXNcIn0sXHJcbiAgICB7XCJpbWFnZXVybFwiOiBcImltZy9pZGVhczMucG5nXCIsIFwid29yZFwiOiBcIkV4dHJlbWUgU3BvcnRzXCJ9LFxyXG4gICAge1wiaW1hZ2V1cmxcIjogXCJpbWcvaWRlYXM0LnBuZ1wiLCBcIndvcmRcIjogXCJHYW1lc1wifSxcclxuICAgIHtcImltYWdldXJsXCI6IFwiaW1nL2lkZWFzNS5wbmdcIiwgXCJ3b3JkXCI6IFwiQ3VsdHVyZVwifSxcclxuICAgIHtcImltYWdldXJsXCI6IFwiaW1nL2lkZWFzNi5wbmdcIiwgXCJ3b3JkXCI6IFwiUmVsYXhhdGlvblwifSxcclxuICAgIHtcImltYWdldXJsXCI6IFwiaW1nL2lkZWFzNy5wbmdcIiwgXCJ3b3JkXCI6IFwiVHJhdmVsbGluZ1wifVxyXG5dfTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
